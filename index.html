<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="google" content="notranslate" />
<link rel="icon" href="favicon.png" />
<title>Mirror</title>
<meta name="author" content="LoeiFy">
<script>
var O = [{"url":"https://api.github.com/repos/LoeiFy/Recordum/issues/9","labels_url":"https://api.github.com/repos/LoeiFy/Recordum/issues/9/labels{/name}","comments_url":"https://api.github.com/repos/LoeiFy/Recordum/issues/9/comments","events_url":"https://api.github.com/repos/LoeiFy/Recordum/issues/9/events","html_url":"https://github.com/LoeiFy/Recordum/issues/9","id":95140181,"number":9,"title":"记录一下处理 iOS 6 页面奇怪 bug 过程","user":{"login":"LoeiFy","id":2193211,"avatar_url":"https://avatars.githubusercontent.com/u/2193211?v=3","gravatar_id":"","url":"https://api.github.com/users/LoeiFy","html_url":"https://github.com/LoeiFy","followers_url":"https://api.github.com/users/LoeiFy/followers","following_url":"https://api.github.com/users/LoeiFy/following{/other_user}","gists_url":"https://api.github.com/users/LoeiFy/gists{/gist_id}","starred_url":"https://api.github.com/users/LoeiFy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LoeiFy/subscriptions","organizations_url":"https://api.github.com/users/LoeiFy/orgs","repos_url":"https://api.github.com/users/LoeiFy/repos","events_url":"https://api.github.com/users/LoeiFy/events{/privacy}","received_events_url":"https://api.github.com/users/LoeiFy/received_events","type":"User","site_admin":false},"labels":[{"url":"https://api.github.com/repos/LoeiFy/Recordum/labels/css","name":"css","color":"207de5"},{"url":"https://api.github.com/repos/LoeiFy/Recordum/labels/html","name":"html","color":"eb6420"}],"state":"open","locked":false,"assignee":null,"milestone":null,"comments":0,"created_at":"2015-07-15T09:04:30Z","updated_at":"2015-07-15T09:04:30Z","closed_at":null,"body":"### 首先是问题\r\n- 正常页面是这样的\r\n![img_0566](https://cloud.githubusercontent.com/assets/2193211/8693769/351e8afe-2b0c-11e5-80be-7c70803bd3cd.PNG)\r\n\r\n- 旋转屏幕之后\r\n![img_0567](https://cloud.githubusercontent.com/assets/2193211/8693782/4a37ea48-2b0c-11e5-8997-71a0892fe2f0.PNG)\r\n\r\n- 再次旋转回来变成这样\r\n![img_0568](https://cloud.githubusercontent.com/assets/2193211/8693788/5acf79b6-2b0c-11e5-9631-c1743dc43810.PNG)\r\n\r\n右边多处的空白是怎么回事？其他正常浏览器都是没有问题的，包括 pc Android iOS 7 以上。看来代码是没有问题的。\r\n\r\n首先想到的是用 Safari debug 工具看看页面结构，发现空白处就真的是 `空白` 。\r\n来回查看页面 DOM 结构，页面居然很快恢复正常，这时候明白是页面渲染相关，只要再触发页面渲染（重绘或者重排）一次，页面就会正常，在 debug 工具来回查看 DOM 时候会触发页面的渲染。\r\n\r\n接着想到 Google 搜索一下相关问题，但这个关键字不好写，我是这样的关键字：ios 6 rotate page overflow，然后就搜到一些不相关的内容：怎么屏蔽浏览器旋转之类的问题。\r\n\r\n搜索无果，就尝试删减 css 相关 html body 处的 css 定义，删除一些`比较可疑`的样式，没有找到问题。\r\n\r\n于是查看其他页面，有了新发现，一部分代码相同的某个页面并没有这样的问题，无论怎么旋转屏幕都是正常的。这样就好办了，我可以用排除法一步步找到最终问题所在。\r\n\r\n排除法去找问题也没什么好说的，运气好，直觉好一点的就很快找到问题代码，最终找到问题所在 `input` 的 css width 定义：\r\n```css\r\ninput {\r\n    width: 100%;\r\n    ...\r\n}\r\n```\r\n只要这个 `width` 的不定义，或者定义为 px 单位就没有问题了。\r\n\r\n但是这个 `width` 不定义 100%，页面布局会有问题，于是就再次 Google， 这次的关键字是：ios 6 input rotate overflow ，然后就找到相应解决办法\r\n\r\n解决这个问题方法也有一些，最终解决办法是 `input` 父级添加 css：`overflow: hidden`。\r\n这里我的理解是 `overflow` 这个定义有点触发页面渲染的意味，不管怎样，这个属性是挺有意思的。"},{"url":"https://api.github.com/repos/LoeiFy/Recordum/issues/8","labels_url":"https://api.github.com/repos/LoeiFy/Recordum/issues/8/labels{/name}","comments_url":"https://api.github.com/repos/LoeiFy/Recordum/issues/8/comments","events_url":"https://api.github.com/repos/LoeiFy/Recordum/issues/8/events","html_url":"https://github.com/LoeiFy/Recordum/issues/8","id":72070124,"number":8,"title":"css animation 绕方块旋转动画效果","user":{"login":"LoeiFy","id":2193211,"avatar_url":"https://avatars.githubusercontent.com/u/2193211?v=3","gravatar_id":"","url":"https://api.github.com/users/LoeiFy","html_url":"https://github.com/LoeiFy","followers_url":"https://api.github.com/users/LoeiFy/followers","following_url":"https://api.github.com/users/LoeiFy/following{/other_user}","gists_url":"https://api.github.com/users/LoeiFy/gists{/gist_id}","starred_url":"https://api.github.com/users/LoeiFy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LoeiFy/subscriptions","organizations_url":"https://api.github.com/users/LoeiFy/orgs","repos_url":"https://api.github.com/users/LoeiFy/repos","events_url":"https://api.github.com/users/LoeiFy/events{/privacy}","received_events_url":"https://api.github.com/users/LoeiFy/received_events","type":"User","site_admin":false},"labels":[{"url":"https://api.github.com/repos/LoeiFy/Recordum/labels/css","name":"css","color":"207de5"},{"url":"https://api.github.com/repos/LoeiFy/Recordum/labels/html","name":"html","color":"eb6420"}],"state":"open","locked":false,"assignee":null,"milestone":null,"comments":1,"created_at":"2015-04-30T05:48:33Z","updated_at":"2015-04-30T05:49:22Z","closed_at":null,"body":"一个比较好玩的动画效果，具体代码：\r\n### HTML\r\n```html\r\n<div id=\"container\">\r\n    <li>\r\n        <a href=\"#\"></a>\r\n    </li>\r\n    <li>\r\n        <a href=\"#\"></a>\r\n    </li>\r\n    ...\r\n    <li>\r\n        <a href=\"#\"></a>\r\n    </li>\r\n</div>\r\n```\r\n### CSS\r\n```css\r\n#container {\r\n    background: #000;\r\n}\r\n#container li {\r\n    width: 100px;\r\n    height: 100px;\r\n    padding: 1px;\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    position: relative;\r\n}\r\n#container a {\r\n    display: block;\r\n    width: 100px;\r\n    height: 100px;\r\n}\r\n#container a:before, #container a:after {\r\n    content: '';\r\n    position: absolute;\r\n    background: blue;\r\n    height: 1px;\r\n    z-index: 3;\r\n}\r\n#container li a:before {\r\n    -webkit-animation: rounda 2s linear forwards infinite;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n#container li a:after {\r\n    -webkit-animation: rounda 2s 1s linear forwards infinite;\r\n    bottom: 0;\r\n    right: 0;\r\n}\r\n\r\n\r\n#container li:before, #container li:after {\r\n    content: '';\r\n    position: absolute;\r\n    background: blue;\r\n    width: 1px;\r\n    z-index: 3;\r\n}\r\n#container li:before {\r\n    -webkit-animation: roundb 2s 0.5s linear forwards infinite;\r\n    right: 0;\r\n    top: 0;\r\n}\r\n#container li.animate:after {\r\n    -webkit-animation: roundb 2s 1.5s linear forwards infinite;\r\n    left: 0;\r\n    bottom: 0;\r\n}\r\n\r\n@-webkit-keyframes rounda {\r\n  0% {\r\n      width: 0;\r\n  }\r\n\r\n  25% {\r\n      width: 100%;\r\n  }\r\n\r\n  50% {\r\n      width: 100%;\r\n  }\r\n\r\n  50.1% {\r\n      width: 0;\r\n  }\r\n}\r\n@-webkit-keyframes roundb {\r\n  0% {\r\n      height: 0;\r\n  }\r\n\r\n  25% {\r\n      height: 100%;\r\n  }\r\n\r\n  50% {\r\n      height: 100%;\r\n  }\r\n\r\n  50.1% {\r\n      height: 0;\r\n  }\r\n}\r\n```\r\n### DEMO\r\nhttp://jsfiddle.net/am0200/x9u4w12x/\r\n这里是针对 webkit 的动画，Firefox 之类的代码需要另外加，所以请使用 webkit 浏览器\r\n### 说明\r\n当页面多个这样动画运行时候，效果蛮不错，当然 MacBook 发热开始了"}];
</script>
<link rel="stylesheet" href="assets/mirror.css" />
<script src="assets/zepto.js"></script>
<script src="assets/marked.js"></script>
<script src="assets/highlight.js"></script>
<script src="assets/mirror.js"></script>
</head>

<body>

<header>
</header>

<ul id="posts">
</ul>

</body>

</html>
